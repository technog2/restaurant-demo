import{i as z,r as n,j as g}from"./index.add99fa0.js";const f=z("Alert",()=>{const r=n(!1),t=n(""),c=n(""),a=s=>l("success",s),u=s=>l("warning",s),p=s=>l("error",s);function l(s,d){r.value=!0,t.value=s,c.value=d,setTimeout(()=>r.value=!1,5e3)}return{active:r,type:t,content:c,success:a,warning:u,error:p}});var q=[{id:"8y26hm3bes6vl23zgqorpsnc",poster:"pizza-hut.jpg",title:"Pizza Hut",time:15,price:13,count:1,description:"Lorem ipsum dolor sit amet, consectetur, adipisicing elit. Qui ex ipsum, autem nobis, aliquid incidunt. Veritatis possimus nisi eveniet quas distinctio similique optio deleniti, eos tenetur vitae delectus inventore velit!",contents:["cheese","tomato","parsley","red-chili-pepper"],sizes:[380,480,560],energy:511,voit:4.5,size:480,selectedContents:["cheese","parsley"]},{id:"tzem3um8q43wg3s4s7c5byc2",poster:"pizza-chicken.jpeg",title:"Pizza Chicken",time:15,price:12.2,count:1,description:"Lorem ipsum dolor sit amet, consectetur, adipisicing elit. Qui ex ipsum, autem nobis, aliquid incidunt. Veritatis possimus nisi eveniet quas distinctio similique optio deleniti, eos tenetur vitae delectus inventore velit!",contents:["cheese","tomato","parsley","red-chili-pepper"],sizes:[380,480,560],energy:511,voit:4.5,size:480,selectedContents:["cheese","parsley"]},{id:"80zg877q3xo7ze5g9yggr1t1",poster:"pizza-pepperoni.jpg",title:"Pizza Pepperoni",time:15,price:5.1,count:1,description:"Lorem ipsum dolor sit amet, consectetur, adipisicing elit. Qui ex ipsum, autem nobis, aliquid incidunt. Veritatis possimus nisi eveniet quas distinctio similique optio deleniti, eos tenetur vitae delectus inventore velit!",contents:["cheese","tomato","parsley","red-chili-pepper"],sizes:[380,480,560],energy:511,voit:4.5,size:480,selectedContents:["cheese","parsley"]},{id:"wyh67ogvy8xymog3nqvyx7cq",poster:"mushroom-margherita-mini-pizza.jpg",title:"Mushroom Margherita Mini Pizza",time:15,price:9,count:1,description:"Lorem ipsum dolor sit amet, consectetur, adipisicing elit. Qui ex ipsum, autem nobis, aliquid incidunt. Veritatis possimus nisi eveniet quas distinctio similique optio deleniti, eos tenetur vitae delectus inventore velit!",contents:["cheese","tomato","parsley","red-chili-pepper"],sizes:[380,480,560],energy:511,voit:4.5,size:480,selectedContents:["cheese","parsley"]}];const P=z("Cart",()=>{const r=f(),t=n([]),c=n(),a=n(0),u=n(0),p=g(()=>{var e;return((e=t.value)==null?void 0:e.length)||0}),l=g(()=>{var i;let e=0;return(i=t.value)==null||i.map(o=>e+=o.price),e=e*((100-a.value)/100),e+=u.value,parseFloat(e.toFixed(2))});function s(e){var i;return(i=t.value)==null?void 0:i.some(o=>o.id===e)}function d(){t.value=JSON.parse(localStorage.getItem("cart"))||[]}function m(){localStorage.setItem("cart",JSON.stringify(t.value||[]))}function v(e){var i;s(e)||(i=t.value)==null||i.push(q.find(o=>o.id===e))}function h(e,i){v(e),t.value.find(o=>o.id===e).count=i,m()}async function y(e){const i={ok:!0,data:{isValid:c.value==="123abc",discount:10,delivery:0}};i.data.isValid?(a.value=i.data.discount,u.value=0,r.success("Promocode successfully added"),e()):(c.value=null,r.error("Promocode is not valid"))}return{cart:t,promocode:c,discount:a,delivery:u,count:p,total:l,getCartFromLs:d,setCartToLs:m,addProduct:v,changeCount:h,checkPromocode:y}});export{P as a,q as p,f as u};
