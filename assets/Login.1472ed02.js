import{u as N,r as s,w as S,o as T,a as r,c as a,b,d as t,e as g,v as _,t as y,f as B,g as w,F as D,h as V}from"./index.add99fa0.js";import{u as A}from"./Auth.c7268aaf.js";import{S as I}from"./SimpleButton.2b7153e5.js";const G=()=>{function d(c){var o;(o=document.getElementById(c))==null||o.focus()}return{focus:d}},L={class:"h-screen bg-gradient-to-tl from-[#e3001b] to-[#5c000b] bg-no-repeat bg-center bg-cover"},U=["onSubmit"],z=t("div",{class:"text-center px-14 pt-28"},[t("h2",{class:"text-white font-bold text-3xl"},"Cellphone"),t("p",{class:"text-gray-300 mt-4"},"Please perform your country code and enter your cellphone number.")],-1),E={class:"pt-20 pb-32 px-10 bg-white absolute bottom-0 inset-x-0 rounded-t-3xl"},J={key:0,class:"text-red-500 text-sm mt-2 ml-2 transition"},P=["onSubmit"],R={class:"text-center px-14 pt-28"},F=t("h2",{class:"text-white font-bold text-3xl"},"Perform",-1),X={class:"text-gray-300 mt-4"},$={class:"pt-20 px-10"},q={class:"flex gap-2 mt-2",dir:"ltr"},K=["onUpdate:modelValue","onKeyup","id"],H={setup(d){const c=N(),o=G(),k=A(),p=s(0),l=s(""),C=s(),h=s([]),m=s(!1),i=s();S(l,e=>/^09\d{9}$/.test(e)?i.value=null:i.value="Cellphone number is not valid."),T(()=>{v(),o.focus("phone-input")});async function M(){try{const e={ok:!0,data:{verificationId:"123456789abcdefg"}};e.ok&&(C.value=e.data.verificationId,p.value++,await v(),o.focus("index-1"))}catch(e){console.error(e)}}async function f(){try{const e={ok:!0,data:{accessToken:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6Inp6ejAwejAwMDAwejAwMHp6ejB6enp6eiIsImlhdCI6MTc0MjExNjM4NywiZXhwIjoxNzQ0NzA4Mzg3fQ.jZsUxvGl7jIciLYlWBF7nq2O-2OhDkTD_pRUvGbDL58",refreshToken:"G4BrF7JewED+G+oougrpXtoun-uThRRMfi7vTK1hXGmLnCzLvC"}};e.ok&&(k.setToken(e.data),c.push("/"))}catch(e){console.error(e)}}async function j(e){e===5?await f():o.focus(`index-${e+1}`)}function v(e=500){return new Promise(u=>setTimeout(u,e))}return(e,u)=>(r(),a("div",L,[p.value===0?(r(),a("form",{key:0,onSubmit:b(M,["prevent"]),class:""},[z,t("div",E,[g(t("input",{"onUpdate:modelValue":u[0]||(u[0]=n=>l.value=n),type:"text",id:"phone-input",placeholder:"Phone number",class:"w-full bg-transparent border-[1.5px] border-gray-300 rounded-full px-4 py-2 outline-none",required:""},null,512),[[_,l.value]]),i.value?(r(),a("span",J,y(i.value),1)):B("",!0),w(I,{loading:m.value,value:"Continue"},null,8,["loading"])])],40,U)):(r(),a("form",{key:1,onSubmit:b(f,["prevent"]),class:""},[t("div",R,[F,t("p",X,'Enter the validation code sent to the phone number "'+y(l.value)+'"',1)]),t("div",$,[t("div",q,[(r(),a(D,null,V(5,n=>g(t("input",{"onUpdate:modelValue":x=>h.value[n]=x,onKeyup:x=>j(n),id:`index-${n}`,type:"text",class:"bg-transparent border-[1.5px] border-gray-300 rounded-full p-2 w-full text-center text-white outline-none",maxlength:"1",required:""},null,40,K),[[_,h.value[n]]])),64))]),w(I,{loading:m.value,value:"Login",class:"mt-4 !bg-white !text-red-800"},null,8,["loading"])])],40,P))]))}};export{H as default};
